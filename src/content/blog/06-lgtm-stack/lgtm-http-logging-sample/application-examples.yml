# =============================================================================
# HTTP Logging Configuration Examples
# =============================================================================

# -----------------------------------------------------------------------------
# Example 1: Basic Configuration (Default)
# Logs all requests/responses except actuator endpoints
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      log-requests: true
      log-responses: true
      log-request-headers: true
      log-response-headers: true
      log-request-body: true
      log-response-body: true
      max-body-length: 1000
      include-query-string: true
      include-client-info: true
      include-execution-time: true
      
      # Default exclusions (actuator endpoints)
      exclude-patterns:
        - /actuator/**
        - /health
        - /health/**
        - /metrics
        - /prometheus
      
      # Exclude OPTIONS and HEAD methods
      exclude-methods:
        - OPTIONS
        - HEAD
      
      # Mask sensitive headers
      exclude-headers:
        - Authorization
        - Cookie
        - Set-Cookie
        - X-Auth-Token
        - X-API-Key
      
      mask-sensitive-headers: true
      structured-logging: false

---
spring:
  config:
    activate:
      on-profile: example-2

# -----------------------------------------------------------------------------
# Example 2: Production Configuration
# Only log errors, minimal body logging, structured logs
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      only-on-error: true  # Only log 4xx and 5xx responses
      log-request-body: true
      log-response-body: true
      max-body-length: 500  # Smaller limit for production
      structured-logging: true  # JSON format for log aggregation
      
      # Exclude more endpoints in production
      exclude-patterns:
        - /actuator/**
        - /health/**
        - /metrics/**
        - /swagger-ui/**
        - /v3/api-docs/**
        - /favicon.ico
        - /static/**
      
      # Additional sensitive headers for production
      exclude-headers:
        - Authorization
        - Cookie
        - Set-Cookie
        - X-Auth-Token
        - X-API-Key
        - X-CSRF-Token
        - Session-ID

---
spring:
  config:
    activate:
      on-profile: example-3

# -----------------------------------------------------------------------------
# Example 3: API Gateway Configuration
# Log specific API paths only, no body logging
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      log-request-body: false  # Don't log bodies in gateway
      log-response-body: false
      
      # Only log specific API paths
      include-patterns:
        - /api/v1/**
        - /api/v2/**
      
      # Exclude health checks and internal endpoints
      exclude-patterns:
        - /api/*/health
        - /api/*/internal/**
      
      # Only log POST, PUT, DELETE (not GET)
      include-methods:
        - POST
        - PUT
        - DELETE
        - PATCH

---
spring:
  config:
    activate:
      on-profile: example-4

# -----------------------------------------------------------------------------
# Example 4: Development Configuration
# Log everything with full details
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      log-requests: true
      log-responses: true
      log-request-headers: true
      log-response-headers: true
      log-request-body: true
      log-response-body: true
      max-body-length: -1  # No truncation
      include-query-string: true
      include-client-info: true
      include-execution-time: true
      
      # No exclusions in dev
      exclude-patterns: []
      exclude-methods: []
      
      # Show all headers (less security concern in dev)
      exclude-headers: []
      mask-sensitive-headers: false
      
      structured-logging: false  # Readable format for dev

---
spring:
  config:
    activate:
      on-profile: example-5

# -----------------------------------------------------------------------------
# Example 5: Microservice Configuration
# Log external API calls only
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      
      # Only log external-facing APIs
      include-patterns:
        - /api/external/**
        - /api/public/**
      
      # Exclude internal service-to-service calls
      exclude-patterns:
        - /api/internal/**
        - /actuator/**
      
      # Log 4xx and 5xx at higher detail
      min-status-code: 400
      log-request-body: true
      log-response-body: true

---
spring:
  config:
    activate:
      on-profile: example-6

# -----------------------------------------------------------------------------
# Example 6: Security Audit Configuration
# Detailed logging for security compliance
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      structured-logging: true  # Required for SIEM integration
      
      # Log everything for audit
      log-requests: true
      log-responses: true
      log-request-headers: true
      log-response-headers: true
      log-request-body: true
      log-response-body: true
      
      # High limit for audit
      max-body-length: 5000
      
      # Log client information for audit trail
      include-client-info: true
      include-execution-time: true
      
      # Mask but don't exclude security headers (need to see they exist)
      mask-sensitive-headers: true
      exclude-headers:
        - Authorization
        - X-Auth-Token
        - X-API-Key
      
      # Only exclude truly internal endpoints
      exclude-patterns:
        - /actuator/prometheus

---
spring:
  config:
    activate:
      on-profile: example-7

# -----------------------------------------------------------------------------
# Example 7: Performance Testing Configuration
# Minimal logging to avoid performance impact
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      
      # Log only request/response line, no bodies
      log-request-body: false
      log-response-body: false
      log-request-headers: false
      log-response-headers: false
      
      # But keep execution time for performance analysis
      include-execution-time: true
      
      structured-logging: true  # Easier to parse for metrics
      
      # Exclude everything except specific endpoints being tested
      include-patterns:
        - /api/performance-test/**

---
spring:
  config:
    activate:
      on-profile: example-8

# -----------------------------------------------------------------------------
# Example 8: Debugging Specific Endpoints
# Full logging for troubleshooting specific issues
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: true
      
      # Only log problematic endpoints
      include-patterns:
        - /api/v1/orders/**
        - /api/v1/payments/**
      
      # Full detail
      log-requests: true
      log-responses: true
      log-request-headers: true
      log-response-headers: true
      log-request-body: true
      log-response-body: true
      max-body-length: -1
      
      # Show everything
      exclude-headers: []
      mask-sensitive-headers: false
      
      structured-logging: false  # Easier to read when debugging

---
spring:
  config:
    activate:
      on-profile: disabled

# -----------------------------------------------------------------------------
# Example 9: Disable Logging
# -----------------------------------------------------------------------------
lgtm:
  http:
    logging:
      enabled: false
